## 5. SBOM based vulnerability detection with OSV

### What is OSV?

> There are many problems to solve industry-wide concerning vulnerability detection, tracking, and response. One low-level problem is that there are many databases and no standard interchange format. A client that wants to aggregate information from multiple databases must handle each database completely separately. Databases that want to exchange information with each other must also each have their own parser for each format. Systematic tracking of dependencies and collaboration between vulnerability database efforts is hampered by not having a common interchange format.
>
> This document defines a draft of a standard interchange format. We hope to define a format that all vulnerability databases can export, to make it easier for users, security researchers, and any other efforts to consume all available databases. Use of this format would also make it easier for the databases themselves to share or cross-check information.
>
> This shared interchange format is not expected to be the internal format for any particular database. We hope only that every vulnerability database will make its entries available in this format to enable interoperability.
> --- https://ossf.github.io/osv-schema/

### OSV examples

-  [GitHub Advisory Database](https://github.com/github/advisory-database)
-  [PyPI Advisory Database](https://github.com/pypa/advisory-database)
-  [Go Vulnerability Database](https://github.com/golang/vulndb)
-  [Rust Advisory Database](https://github.com/RustSec/advisory-db)
-  [Global Security Database](https://github.com/cloudsecurityalliance/gsd-database)
-  [OSS-Fuzz](https://github.com/google/oss-fuzz-vulns)

### What is osv.dev?

> osv.dev is a vulnerability database and triage infrastructure for open source projects aimed at helping both open source maintainers and consumers of open source.
> --- https://github.com/google/osv.dev


```bash
curl -X POST -d \
      '{"version": "2.4.1", "package": {"name": "jinja2", "ecosystem": "PyPI"}}' \
      "https://api.osv.dev/v1/query"
```

See https://osv.dev/docs/ for more details.


### A challenge

Detect vulnerabilities in generated SBOMs in the previous challenges.

**Usage**

```bash
jsac2023-cli osv query {path_to_cyclonedx_sbom}
```

```bash
jsac2023-cli python requirements /app/python-vulnerable-app/requirements.txt > requirements.json
jsac2023-cli osv query requirements.json | jq .
```
